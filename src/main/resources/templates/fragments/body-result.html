<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html" />
</head>
<body>

	<div th:fragment = "siteList">
		<div class = "containerElementRow" th:each = "element : ${toShow}">
			<div th:onclick="|location.href='/element?showAddContent=true&id=' + ${element.getId()}|">
				<div class = "cardList">
					<h1 class = "scritteCard" th:text = "${'Titolo: '} + ${element.getName()}">Titolo</h1>
		    		<h1 class = "scritteCard" th:text = "${'Descrizione: '} + ${element.getDescription()}">Descrizione</h1>
		    		<h1 class = "scritteCard" th:text = "${'Autore: '} + ${element.getAuthor().getUsername()}">Autore</h1>
		    		<h1 th:if = "${element.getTypology().toString() == 'POI'}" class = "scritteCard" th:text = "${'Indirizzo: '} + ${element.getAddress().toString()}">Indirizzo</h1>
		    		<div th:if = "${element.getTypology().toString() == 'TOUR' && element.getMyPOIs()!=null && !element.getMyPOIs().isEmpty}">
			    		<div th:replace="~{fragments/body-result :: toursList(list=${element.getMyPOIs()})}"></div>
		    		</div>
		    		<h1 th:if = "${element.getTypology().toString() == 'CONTEST'}" class = "scritteCard" th:text = "${'Periodo: '} + ${element.getStarts()} + ${' - '} + ${element.getEnds()}">Periodo</h1>
		    		<h1 class = "scritteCard" th:text = "${'Città: '} + ${element.getCity()} + ${' ('} + ${element.getPostalcode()} + ${')'}">Città</h1>
				</div>
			</div>
			<div class = "containerIcons">
				<button th:unless = "${isTourist}" class = "iconaElementi">
				<h1 class = "scritteBottoniElementi" th:text = "LIKE"></h1>
				</button>
				<button class = "iconaElementi">
				<h1 class = "scritteBottoniElementi" th:text = "SEGNALAMI"></h1>
				</button>
				<button th:if = "${element.getAuthor().getUsername() == username}" class = "iconaElementi">
				<h1 class = "scritteBottoniElementi" th:text = "CANCELLAMI"></h1>
				</button>
			</div>
	    </div>
	</div>
	
	<div th:fragment = "toursList" class = "Card">
		<div class = "cardList" th:each = "poi : ${list.subList(0, list.size() > 5 ? 5 : list.size())}">
    		<h1 class = "scritteCard" th:text = "${'Titolo: '} + ${poi.getName()}">Titolo</h1>
    		<h1 class = "scritteCard" th:text = "${'Descrizione: '} + ${poi.getDescription()}">Descrizione</h1>
    		<h1 class = "scritteCard" th:text = "${'Autore: '} + ${poi.getAuthor().getUsername()}">Autore</h1>
    		<h1 class = "scritteCard" th:text = "${'Indirizzo: '} + ${poi.getAddress().toString()}">Indirizzo</h1>
    		<h1 class = "scritteCard" th:text = "${'Città: '} + ${poi.getCity()} + ${' ('} + ${poi.getPostalcode()} + ${')'}">Città</h1>
    	</div>
	</div>

	
	<div th:fragment = "elementView" class = "containerElement">
		<div class = "cardList">
			<h1 class = "scritteCard">Titolo</h1>
			<h2 class = "scritteCard" th:text = "${element.getName()}"></h2>
			<h1>______________</h1>
		    <h1 class = "scritteCard">Descrizione</h1>
		    <h2 class = "scritteCard" th:text = "${element.getDescription()}"></h2>
			<h1>______________</h1>
		    <h1 class = "scritteCard">Città</h1>
		    <h2 class = "scritteCard" th:text = "${element.getCity()}"></h2>
			<h1>______________</h1>
		    <h1 class = "scritteCard">C.A.P.</h1>
		    <h2 class = "scritteCard" th:text = "${element.getPostalcode()}"></h2>
			<h1>______________</h1>
		    <div th:if = "${element.getTypology().toString() == 'POI'}" class = "containerElement">
		    	<h1 class = "scritteCard">Indirizzo</h1>
				<h2 class = "scritteCard" th:text = "${element.getAddress().getRoad()} + ${' - '} + ${element.getAddress().getHouseNumber() == 0 ? 'snc' : element.getAddress().getHouseNumber()}"></h2>
			<h1>______________</h1>
		    </div>
		    <div th:if = "${element.getTypology().toString() == 'CONTEST'}" class = "containerElement">
		    	<div class = "containerInputRow">
				    <div class = "containerElement">
				   		<h1  class = "scritteCard">Inizia il:</h1>
				   		<h2 class = "scritteCard" th:type = "date" th:text = "${element.getStarts()}"></h2>
						<h1>______________</h1>
				    </div>
				    <div class = "containerElement">	    	
					    <h1 class = "scritteCard">Termina il:</h1>
				   		<h2 class = "scritteCard" th:type = "date" th:text = "${element.getEnds()}"></h2>
						<h1>______________</h1>
				    </div>
			    </div>
			    <h1 class = "scritteCard">Tema</h1>
			    <h2 class = "scritteCard" th:text = "${element.getTheme()}"></h2>
				<h1>______________</h1>
		    	<h1 class = "scritteCard">Solo su invito</h1>
		    	<div class = "containerInputRow">
		    		<div class = "containerElement">
		    			<h2 class = "scritteCard">Si</h2>
				    	<label><input type="checkbox" th:checked="${element.getIsClosed()}" disabled='disabled' /></label>
				    	<h2 class = "scritteCard">No</h2>
				    	<label><input type="checkbox" th:checked="${!element.getIsClosed()}" disabled='disabled' /></label>
				    	<br />
			    	</div>
		    	</div>
		    </div>
		    <div th:if = "${element.getMyContents() !=null && !element.getMyContents().isEmpty}">
	    		<div th:replace="~{fragments/body-result :: contentsList(list=${element.getMyContents()})}"></div>
    		</div>
		    <div th:if = "${element.getTypology().toString() == 'TOUR' && element.getMyPOIs()!=null && !element.getMyPOIs().isEmpty}">
	    		<div th:replace="~{fragments/body-result :: toursList(list=${element.getMyPOIs()})}"></div>
    		</div>
    		<div th:if = "${showAddContent}" class ="containerForm">
	    		<form class = "cardForm" th:action="@{${urlAddContent}}" method="post" enctype="multipart/form-data">
	    			<h1 class = "scritteCard">Titolo</h1>
				    <input name="name" type = "text" placeholder = "Inserisci il nome">
				    <br />
				    <h1 class = "scritteCard">Descrizione</h1>
			    	<textarea class = "inputDescrizione" rows="10" cols="50" maxlength="200" style="width: 200px; height: 100px;" name = "description" placeholder="Descrivimi!"/></textarea>
				    <br />
				    <h1 class = "scritteCard">File da caricare</h1>
					<input type="file" name="file">
				    <br />
				    <div hidden = "true">
				    	<input class = "inputHidden" type="text" name="elementId" th:value = "${element.getId()}">
				    </div>
				    <button class = "bottoniForm" type="submit" th:text="${'Aggiungi Contenuto'}"></button>
				</form>
    		</div>
    		<div th:if = "${showAddContent}">
    			<a th:href="@{/element(id=${element.getId()}, showAddContent=${showAddContent})}">
					<button class = "bottoniFormNonClick" th:text="${'Non Aggiungere'}"></button>
				</a>
    		</div>
    		<div th:unless = "${showAddContent}" class ="containerForm">
    			<a th:href="@{/element(id=${element.getId()}, showAddContent=${showAddContent})}">
					<button class = "bottoniFormNonClick" th:text="${'Vuoi aggiungere un contenuto?'}"></button>
				</a>
    		</div>
		</div>		
	</div>
	
		
	<div th:fragment = "contentsList" class = "Card">
		<div class = "cardList" th:each = "content : ${list}">
			<h1 class = "scritteCard">Titolo</h1>
			<h2 class = "scritteCard" th:text = "${content.getName()}"></h2>
			<h1>______________</h1>
			<h1 class = "scritteCard">Descrizione</h1>
			<h2 class = "scritteCard" th:text = "${content.getDescription()}"></h2>
			<h1>______________</h1>
			<h1 class = "scritteCard">Contenuto</h1>
    		<img th:src="@{${content.getPathToResource()}}" width="300">
    		<h1>______________</h1>
    	</div>
	</div>
	
	<div th:fragment = "osmList">
		<div  class = "containerFormElement">
			<form th:each = "element : ${toShow.subList(0, toShow.size() > 5 ? 5 : toShow.size())}" th:action = "@{/pois/creation/osm}" method = "post">
	    		<input th:type = "hidden" th:value = "${element.getName()}" name="name">
	    		<input th:type = "hidden" th:value = "${element.getDescription()}" name="description">
	    		<input th:type = "hidden" th:value = "${element.getAddress().getRoad()}" name="road">
	    		<input th:type = "hidden" th:value = "${element.getAddress().getHouseNumber()}" name="houseNumber">
	    		<input th:type = "hidden" th:value = "${element.getCity()}" name="city">
	    		<input th:type = "hidden" th:value = "${element.getPostalcode()}" name="postalcode">
	    		<input th:type = "hidden" th:value = "${element.getLatitude()}" name="latitude">
	    		<input th:type = "hidden" th:value = "${element.getLongitude()}" name="longitude">
	    		<button type="submit" class = "cardForm">
					<h1 class = "scritteCard" th:text = "${'Titolo: '} + ${element.getName()}">Titolo</h1>
		    		<h1 class = "scritteCard" th:text = "${'Descrizione: '} + ${element.getDescription()}">Descrizione</h1>
		    		<h1 class = "scritteCard" th:text = "${'Indirizzo: '} + ${element.getAddress().toString()}">Indirizzo</h1>
		    		<h1 class = "scritteCard" th:text = "${'Città: '} + ${element.getCity()} + ${' ('} + ${element.getPostalcode()} + ${')'}">Città</h1>
				</button>
	    	</form>
		</div>
	</div>
	
	<div th:fragment = "usersList" class = "containerList">
    	<button class = "cardList" th:each = "user : ${listUsers}">
    		<h1 class = "scritteCard" th:text = "${'Nome: '} + ${user.name}">Titolo</h1>
    		<h1 class = "scritteCard" th:text = "${'Cognome: '} + ${user.surname}">Descrizione</h1>
    		<h1 class = "scritteCard" th:text = "${'Username: '} + ${user.username}">Autore</h1>
    		<h1 class = "scritteCard" th:text = "${'email: '} + ${user.email}">CAP</h1>
    		<h1 class = "scritteCard" th:text = "${'Ruolo: '} + ${user.role}">Indirizzo</h1>
    	</button>
	</div>
	
</body>
</html>